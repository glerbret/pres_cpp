\RequirePackage[framemethod=TikZ]{mdframed}	% Cadre autour des blocs et des exemples de code
\usetikzlibrary{shadows}
\RequirePackage{color}			% Gestions des couleurs
\RequirePackage{graphicx}		% Inclusion des images
\RequirePackage{minted}			% Mise en forme du code
\RequirePackage{textcomp}		% Caractères complémentaires
\RequirePackage{fontawesome5}	% Fonte awesome (symboles)

\mode<presentation>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Style 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\useinnertheme[shadow=true]{rounded}
\useoutertheme{infolines}
\usecolortheme{orchid}
\usecolortheme{whale}
\beamertemplatenavigationsymbolsempty
\setbeamercolor{structure}{fg=teal, bg=teal!40}

% Decalage des sous-listes
\setlength{\leftmarginii}{0.4cm}
\setlength{\leftmarginiii}{0.4cm}

% Commande pour ajouter un logo sur les liens
\newcommand{\linklogo}{\textsuperscript{\tiny\textcolor{teal}{\thickspace\faExternalLink*}}}
% Commande pour le logo du lien sur les exemples de code
\newcommand{\codelogo}{\textcolor{teal}{\Large \faPlayCircle}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format des blocs (block, alertblock et exampleblock)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Coloration
\definecolor{example_green}{RGB}{0,0.6,0}
\setbeamercolor{block title}{bg=teal,fg=white}
\setbeamercolor{block title example}{bg=green!60!black,fg=white}

% Pas de degrade sur la coloration des blocs (block, alertblock et exampleblock)
\pgfdeclareverticalshading[lower.bg,upper.bg]{bmb@transition}{200cm}{%
	color(0pt)=(lower.bg); color(2pt)=(lower.bg); color(3pt)=(lower.bg)}

% Taille et ombrage identique au block de code
\setbeamertemplate{blocks}[rounded][shadow=false]
\mdfdefinestyle{blockframe}{
	backgroundcolor=white,
	linewidth=0pt,
	linecolor=black,
	roundcorner=5pt,
	shadow=true,
	shadowsize=5pt,
	skipabove=5pt,
	skipbelow=7pt,
	innerleftmargin=4pt,
	innerrightmargin=4pt,
	innertopmargin=5pt,
	innerbottommargin=1pt
}
\surroundwithmdframed[style=blockframe]{block}
\surroundwithmdframed[style=blockframe]{alertblock}
\surroundwithmdframed[style=blockframe]{exampleblock}
\addtobeamertemplate{block begin}{\vskip -\bigskipamount \setlength{\leftmargini}{0.55cm}}{}
\addtobeamertemplate{block alerted begin}{\vskip -\bigskipamount \setlength{\leftmargini}{0.55cm}}{}
\addtobeamertemplate{block example begin}{\vskip -\bigskipamount \setlength{\leftmargini}{0.55cm}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format de code
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format du listing
\mdfdefinestyle{codeframe}{
	backgroundcolor=white,
	linewidth=0.4pt,
	linecolor=black,
	roundcorner=5pt,
	shadow=true,
	shadowsize=5pt,
	skipabove=5pt,
	skipbelow=7pt,
	innerleftmargin=10pt,
	innerrightmargin=10pt,
	innertopmargin=5pt,
	innerbottommargin=5pt
}

% Format du cadre
\surroundwithmdframed[style=codeframe]{minted}
\setminted{fontsize=\small,baselinestretch=1,autogobble}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format de la bibliographie
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Livre
\newcommand{\addbook}[2]{%
	\textcolor{teal}{\NoAutoSpacing #1}\\%
	\hspace*{5mm}#2\\%
	\\}

% Article
\newcommand{\addarticle}[3]{%
	\href{#2}{\textcolor{teal}{\NoAutoSpacing #1}}\\%
	\hspace*{5mm}#3\\%
	\\}

% Site web
\newcommand{\addweb}[2]{%
	\href{#2}{\textcolor{teal}{#1}}\\%
	\hspace*{5mm}{\footnotesize \url{#2}}\\%
	\\}
\newcommand{\addwebauth}[3]{%
	\href{#2}{\textcolor{teal}{#1}}\\%
	\hspace*{5mm}{#3}\\%
	\hspace*{5mm}{\footnotesize \url{#2}}\\%
	\\}

% Blog
\newcommand{\addblog}[3]{%
	\href{#2}{\textcolor{teal}{#1}}\\%
	\hspace*{5mm}{#3}\\%
	\hspace*{5mm}{\footnotesize \url{#2}}\\%
	\\}

% Conférences
\newcommand{\addconf}[4]{%
	\href{#2}{\textcolor{teal}{#1}}
	\href{#3}{\textcolor{red}{\faYoutube}}
	\href{#4}{\faGithub}\\%
	\\}

% Vidéo
\newcommand{\addvideo}[2]{%
	\href{#2}{\textcolor{teal}{#1} \textsuperscript{\footnotesize \textcolor{red}{\faYoutube}}}\\
	\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Insertion du sommaire de chaque section beamer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\AtBeginSection[]
{
	\begin{frame}<beamer>{Sommaire}
	\tableofcontents[currentsection,sectionstyle=show/shaded]
	\end{frame}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format de la page de titres
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\defbeamertemplate*{title page}{customized}[1][colsep=-4bp,rounded=true,shadow=true]
{
	\vbox{}
	\vfill
	\begingroup
	\centering
	\begin{beamercolorbox}[sep=8pt,center,#1]{title}
		\usebeamerfont{title}\inserttitle\par%
		\ifx\insertsubtitle\@empty%
		\else%
		\vskip0.25em%
		{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
		\fi%     
	\end{beamercolorbox}%
	\vskip1em\par
	\begin{beamercolorbox}[sep=8pt,center,#1]{author}
		\usebeamerfont{author}\insertauthor
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,center,#1]{institute}
		\usebeamerfont{institute}\insertinstitute
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,center,#1]{date}
		\usebeamerfont{date}\insertdate
	\end{beamercolorbox}\vskip0.5em
	{\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
	\endgroup
	\vskip 10mm plus 10fill
	\hfill\includegraphics[height=12pt]{license.png}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ajoute une page note même vide
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter 
\def\beamer@framenotesbegin{%   
	\gdef\beamer@noteitems{}%   
	\gdef\beamer@notes{{}}%  
}
\makeatother

\mode<all>
